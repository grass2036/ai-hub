# AI Hub å¼€å‘è€…å¿«é€Ÿå…¥é—¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨ AI Hubï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨å‡ åˆ†é’Ÿå†…å¼€å§‹ä½¿ç”¨æˆ‘ä»¬çš„ AI APIã€‚

## å‡†å¤‡å·¥ä½œ

- AI Hub è´¦æˆ·ï¼ˆåœ¨ [aihub.com](https://aihub.com) æ³¨å†Œï¼‰
- æ‚¨åå¥½çš„ç¼–ç¨‹è¯­è¨€
- æ–‡æœ¬ç¼–è¾‘å™¨æˆ– IDE

## ç¬¬ä¸€æ­¥ï¼šè·å–æ‚¨çš„ API å¯†é’¥

1. åœ¨ [AI Hub å¼€å‘è€…é—¨æˆ·](https://aihub.com/developers) **æ³¨å†Œè´¦æˆ·**
2. åœ¨ä»ªè¡¨æ¿ä¸­ **å¯¼èˆªåˆ° API å¯†é’¥** éƒ¨åˆ†
3. **åˆ›å»ºæ–°çš„ API å¯†é’¥**ï¼š
   - ç»™å®ƒä¸€ä¸ªæè¿°æ€§åç§°ï¼ˆä¾‹å¦‚ï¼š"æˆ‘çš„ç¬¬ä¸€ä¸ªåº”ç”¨"ï¼‰
   - é€‰æ‹©æƒé™ï¼š`chat`ã€`usage`
   - ç‚¹å‡»"åˆ›å»º API å¯†é’¥"
4. **å¤åˆ¶æ‚¨çš„ API å¯†é’¥** - å®ƒä»¥ `sk_aihub_` å¼€å¤´

âš ï¸ **é‡è¦æç¤º**ï¼šè¯·ç¡®ä¿æ‚¨çš„ API å¯†é’¥å®‰å…¨ï¼Œæ°¸è¿œä¸è¦åœ¨å®¢æˆ·ç«¯ä»£ç æˆ–å…¬å…±ä»“åº“ä¸­æš´éœ²å®ƒã€‚

## ç¬¬äºŒæ­¥ï¼šé€‰æ‹©é›†æˆæ–¹æ³•

### é€‰é¡¹ Aï¼šç›´æ¥ API è°ƒç”¨ï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰

### é€‰é¡¹ Bï¼šä½¿ç”¨æˆ‘ä»¬çš„ SDKï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰

æˆ‘ä»¬ä¸º Pythonã€JavaScript ç­‰è¯­è¨€æä¾›å®˜æ–¹ SDKã€‚

## ç¬¬ä¸‰æ­¥ï¼šè¿›è¡Œç¬¬ä¸€æ¬¡ API è°ƒç”¨

### Python ç¤ºä¾‹

```python
# å®‰è£… AI Hub Python SDK
pip install aihub-client

# åˆ›å»ºåä¸º test_aihub.py çš„æ–‡ä»¶
import asyncio
from aihub import AIHubClient

async def main():
    # åˆå§‹åŒ–å®¢æˆ·ç«¯
    client = AIHubClient(api_key="sk_aihub_æ‚¨çš„apiå¯†é’¥")

    # å‘èµ·ç®€å•çš„èŠå¤©è¯·æ±‚
    try:
        response = await client.chat.completions.create(
            message="ä½ å¥½ï¼ä½ èƒ½è§£é‡Šä¸€ä¸‹ä½ èƒ½åšä»€ä¹ˆå—ï¼Ÿ",
            model="gpt-4o-mini"  # å…è´¹æ¨¡å‹ç”¨äºæµ‹è¯•
        )

        print("AI å›å¤ï¼š", response.content)
        print("ä½¿ç”¨çš„ tokensï¼š", response.usage.total_tokens)
        print("è´¹ç”¨ï¼š", f"${response.usage.estimated_cost:.4f}")

    except Exception as e:
        print(f"é”™è¯¯ï¼š{e}")

if __name__ == "__main__":
    asyncio.run(main())
```

**è¿è¡Œå®ƒ**ï¼š
```bash
python test_aihub.py
```

### JavaScript/Node.js ç¤ºä¾‹

```javascript
// å®‰è£… AI Hub JavaScript SDK
npm install @aihub/client

// åˆ›å»ºåä¸º test_aihub.js çš„æ–‡ä»¶
import { AIHubClient } from '@aihub/client';

async function main() {
    // åˆå§‹åŒ–å®¢æˆ·ç«¯
    const client = new AIHubClient('sk_aihub_æ‚¨çš„apiå¯†é’¥');

    try {
        // å‘èµ·ç®€å•çš„èŠå¤©è¯·æ±‚
        const response = await client.chat.completions.create({
            message: 'ä½ å¥½ï¼ä½ èƒ½è§£é‡Šä¸€ä¸‹ä½ èƒ½åšä»€ä¹ˆå—ï¼Ÿ',
            model: 'gpt-4o-mini'  // å…è´¹æ¨¡å‹ç”¨äºæµ‹è¯•
        });

        console.log('AI å›å¤ï¼š', response.content);
        console.log('ä½¿ç”¨çš„ tokensï¼š', response.usage.totalTokens);
        console.log('è´¹ç”¨ï¼š', `$${response.usage.estimatedCost.toFixed(4)}`);

    } catch (error) {
        console.error('é”™è¯¯ï¼š', error.message);
    }
}

main();
```

**è¿è¡Œå®ƒ**ï¼š
```bash
node test_aihub.js
```

### cURL ç¤ºä¾‹ï¼ˆç”¨äºæµ‹è¯•ï¼‰

```bash
curl -X POST "http://localhost:8001/api/v1/chat/completions" \
  -H "Authorization: Bearer sk_aihub_æ‚¨çš„apiå¯†é’¥" \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ä½ å¥½ï¼ä½ èƒ½è§£é‡Šä¸€ä¸‹ä½ èƒ½åšä»€ä¹ˆå—ï¼Ÿ",
    "model": "gpt-4o-mini"
  }'
```

## ç¬¬å››æ­¥ï¼šå°è¯•æµå¼å“åº”

ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå¯¹è¾ƒé•¿çš„å“åº”ä½¿ç”¨æµå¼ä¼ è¾“ï¼š

### Python æµå¼ç¤ºä¾‹

```python
import asyncio
from aihub import AIHubClient

async def main():
    client = AIHubClient(api_key="sk_aihub_æ‚¨çš„apiå¯†é’¥")

    print("AIï¼š", end="", flush=True)

    # æµå¼è·å–å“åº”
    async for chunk in client.chat.completions.stream(
        message="å†™ä¸€é¦–å…³äºç¼–ç¨‹çš„çŸ­è¯—",
        model="gpt-4o-mini"
    ):
        print(chunk.content, end="", flush=True)

    print()  # æ¢è¡Œ

asyncio.run(main())
```

### JavaScript æµå¼ç¤ºä¾‹

```javascript
import { AIHubClient } from '@aihub/client';

async function main() {
    const client = new AIHubClient('sk_aihub_æ‚¨çš„apiå¯†é’¥');

    process.stdout.write('AIï¼š');

    // æµå¼è·å–å“åº”
    const stream = await client.chat.completions.stream({
        message: 'å†™ä¸€é¦–å…³äºç¼–ç¨‹çš„çŸ­è¯—',
        model: 'gpt-4o-mini'
    });

    for await (const chunk of stream) {
        process.stdout.write(chunk.content);
    }

    console.log(); // æ¢è¡Œ
}

main();
```

## ç¬¬äº”æ­¥ï¼šä½¿ç”¨ä¼šè¯ç®¡ç†å¯¹è¯

åœ¨å¤šä¸ªæ¶ˆæ¯ä¹‹é—´ä¿æŒå¯¹è¯ä¸Šä¸‹æ–‡ï¼š

```python
import asyncio
from aihub import AIHubClient

async def main():
    client = AIHubClient(api_key="sk_aihub_æ‚¨çš„apiå¯†é’¥")

    # åˆ›å»ºæ–°ä¼šè¯
    session = await client.sessions.create(
        title="AI åŠ©æ‰‹å¯¹è¯",
        model="gpt-4o-mini"
    )

    print(f"ä¼šè¯å·²åˆ›å»ºï¼š{session.session_id}")

    # åœ¨ä¼šè¯ä¸­å‘é€æ¶ˆæ¯
    messages = [
        "ä½ å¥½ï¼Œæˆ‘æ­£åœ¨å­¦ä¹  AIã€‚ä½ èƒ½å¸®åŠ©æˆ‘å—ï¼Ÿ",
        "æœºå™¨å­¦ä¹ çš„ä¸»è¦ç±»å‹æœ‰å“ªäº›ï¼Ÿ",
        "ä½ èƒ½ç»™æˆ‘ä¸€ä¸ªç›‘ç£å­¦ä¹ çš„ç®€å•ä¾‹å­å—ï¼Ÿ"
    ]

    for message in messages:
        response = await client.chat.completions.create(
            message=message,
            session_id=session.session_id,
            model="gpt-4o-mini"
        )

        print(f"\nç”¨æˆ·ï¼š{message}")
        print(f"AIï¼š{response.content}")

    # è·å–ä¼šè¯å†å²
    history = await client.sessions.get(session.session_id)
    print(f"\nä¼šè¯ä¸­çš„æ€»æ¶ˆæ¯æ•°ï¼š{history.message_count}")

asyncio.run(main())
```

## ç¬¬å…­æ­¥ï¼šç›‘æ§æ‚¨çš„ä½¿ç”¨æƒ…å†µ

è·Ÿè¸ªæ‚¨çš„ API ä½¿ç”¨æƒ…å†µå’Œè´¹ç”¨ï¼š

```python
import asyncio
from aihub import AIHubClient

async def main():
    client = AIHubClient(api_key="sk_aihub_æ‚¨çš„apiå¯†é’¥")

    # è·å–è¿‡å» 7 å¤©çš„ä½¿ç”¨æ¦‚è§ˆ
    usage = await client.usage.overview(days=7)

    print(f"ä½¿ç”¨æƒ…å†µæ‘˜è¦ï¼ˆè¿‡å» 7 å¤©ï¼‰ï¼š")
    print(f"æ€»è¯·æ±‚æ•°ï¼š{usage.total_requests}")
    print(f"æ€» tokens æ•°ï¼š{usage.total_tokens:,}")
    print(f"æ€»è´¹ç”¨ï¼š${usage.total_cost:.2f}")
    print(f"å¹³å‡æ¯æ¬¡è¯·æ±‚è´¹ç”¨ï¼š${usage.total_cost/usage.total_requests:.4f}")

    # è·å–è¯¦ç»†åˆ†æ
    analytics = await client.usage.analytics(days=7)

    print(f"\næœ€å¸¸ç”¨çš„æ¨¡å‹ï¼š")
    for model in analytics.top_models[:3]:
        print(f"- {model.model}ï¼š{model.requests} æ¬¡è¯·æ±‚")

asyncio.run(main())
```

## ä¸‹ä¸€æ­¥

### 1. æ¢ç´¢å¯ç”¨æ¨¡å‹

```python
# åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ¨¡å‹
models = await client.models.list()
for model in models:
    print(f"{model.id}ï¼š{model.name} - ${model.pricing.input}/1K tokens")
```

### 2. æ„å»ºç®€å•çš„èŠå¤©åº”ç”¨

è¿™é‡Œæ˜¯ä¸€ä¸ªä½¿ç”¨ Python å’Œ Flask çš„æœ€å°èŠå¤©åº”ç”¨ï¼š

```python
# app.py
from flask import Flask, render_template, request, jsonify
import asyncio
from aihub import AIHubClient

app = Flask(__name__)
client = AIHubClient(api_key="sk_aihub_æ‚¨çš„apiå¯†é’¥")

@app.route('/')
def home():
    return render_template('index.html')

@app.route('/chat', methods=['POST'])
def chat():
    data = request.json
    message = data.get('message')

    try:
        response = asyncio.run(client.chat.completions.create(
            message=message,
            model="gpt-4o-mini"
        ))

        return jsonify({
            'success': True,
            'response': response.content
        })
    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        })

if __name__ == '__main__':
    app.run(debug=True)
```

```html
<!-- templates/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>AI èŠå¤©æ¼”ç¤º</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .chat-container { border: 1px solid #ddd; padding: 20px; height: 400px; overflow-y: auto; margin-bottom: 20px; }
        .message { margin-bottom: 10px; padding: 10px; border-radius: 5px; }
        .user { background-color: #e3f2fd; }
        .ai { background-color: #f3e5f5; }
        input { width: 70%; padding: 10px; }
        button { width: 25%; padding: 10px; }
    </style>
</head>
<body>
    <h1>AI èŠå¤©æ¼”ç¤º</h1>
    <div id="chat" class="chat-container"></div>
    <div>
        <input type="text" id="messageInput" placeholder="è¾“å…¥æ‚¨çš„æ¶ˆæ¯..." />
        <button onclick="sendMessage()">å‘é€</button>
    </div>

    <script>
        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (!message) return;

            const chatContainer = document.getElementById('chat');

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            chatContainer.innerHTML += `<div class="message user">æ‚¨ï¼š${message}</div>`;
            input.value = '';

            try {
                const response = await fetch('/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: message })
                });

                const data = await response.json();

                if (data.success) {
                    chatContainer.innerHTML += `<div class="message ai">AIï¼š${data.response}</div>`;
                } else {
                    chatContainer.innerHTML += `<div class="message ai">é”™è¯¯ï¼š${data.error}</div>`;
                }
            } catch (error) {
                chatContainer.innerHTML += `<div class="message ai">é”™è¯¯ï¼š${error.message}</div>`;
            }

            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>
```

**è¿è¡ŒèŠå¤©åº”ç”¨**ï¼š
```bash
pip install flask
python app.py
```

è®¿é—® `http://localhost:5000` æŸ¥çœ‹æ‚¨çš„èŠå¤©åº”ç”¨ï¼

## å¸¸è§ç”¨ä¾‹

### 1. å†…å®¹ç”Ÿæˆ

```python
# ç”Ÿæˆåšå®¢æ–‡ç« ã€æ–‡ç« æˆ–è¥é”€æ–‡æ¡ˆ
response = await client.chat.completions.create(
    message="å†™ä¸€ç¯‡å…³äº AI åœ¨åŒ»ç–—ä¿å¥é¢†åŸŸç›Šå¤„çš„ 500 å­—åšå®¢æ–‡ç« ",
    model="gpt-4o",
    max_tokens=800,
    temperature=0.7
)
```

### 2. ä»£ç ç”Ÿæˆå’Œè¾…åŠ©

```python
# ç”Ÿæˆä»£ç ç¤ºä¾‹æˆ–è·å–ç¼–ç¨‹å¸®åŠ©
response = await client.chat.completions.create(
    message="å†™ä¸€ä¸ªä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ç”µå­é‚®ä»¶åœ°å€çš„ Python å‡½æ•°",
    model="gpt-4o"  # æ›´é€‚åˆä»£ç ç”Ÿæˆ
)
```

### 3. æ•°æ®åˆ†æ

```python
# åˆ†æå’Œè§£é‡Šæ•°æ®
response = await client.chat.completions.create(
    message="åˆ†æè¿™ä¸ªé”€å”®æ•°æ®å¹¶æä¾›è§è§£ï¼š[æ‚¨çš„æ•°æ®åœ¨è¿™é‡Œ]",
    model="gpt-4o"
)
```

### 4. å®¢æˆ·æ”¯æŒ

```python
# æ„å»ºå®¢æˆ·æ”¯æŒæœºå™¨äºº
response = await client.chat.completions.create(
    message=f"å®¢æˆ·é—®é¢˜ï¼š{customer_question}\næä¾›æœ‰ç”¨çš„å›å¤ï¼š",
    model="gpt-4o-mini",  # å¯¹æ”¯æŒæœåŠ¡æ›´å…·æˆæœ¬æ•ˆç›Š
    temperature=0.3  # æ›´ä¸€è‡´çš„å›å¤
)
```

## æœ€ä½³å®è·µ

### 1. æˆæœ¬ç®¡ç†

- å¯¹å¼€å‘å’Œç®€å•ä»»åŠ¡ä½¿ç”¨ `gpt-4o-mini`
- è®¾ç½® `max_tokens` æ¥é™åˆ¶å“åº”é•¿åº¦
- å®šæœŸç›‘æ§æ‚¨çš„ä½¿ç”¨æƒ…å†µ
- å¯¹æ›´å¥½çš„ç”¨æˆ·ä½“éªŒä½¿ç”¨æµå¼ä¼ è¾“

### 2. é”™è¯¯å¤„ç†

```python
import asyncio
from aihub import AIHubClient
from aihub.exceptions import APIError, RateLimitError

async def safe_chat_request(message, max_retries=3):
    client = AIHubClient(api_key="sk_aihub_æ‚¨çš„apiå¯†é’¥")

    for attempt in range(max_retries):
        try:
            return await client.chat.completions.create(
                message=message,
                model="gpt-4o-mini"
            )
        except RateLimitError:
            if attempt < max_retries - 1:
                wait_time = 2 ** attempt  # æŒ‡æ•°é€€é¿
                print(f"è¾¾åˆ°é€Ÿç‡é™åˆ¶ã€‚ç­‰å¾… {wait_time} ç§’...")
                await asyncio.sleep(wait_time)
                continue
            raise
        except APIError as e:
            print(f"API é”™è¯¯ï¼š{e.message}")
            raise

# ä½¿ç”¨
try:
    response = await safe_chat_request("ä½ å¥½ï¼")
    print(response.content)
except Exception as e:
    print(f"é‡è¯•åå¤±è´¥ï¼š{e}")
```

### 3. è¾“å…¥éªŒè¯

```python
def validate_message(message):
    if not message or not message.strip():
        raise ValueError("æ¶ˆæ¯ä¸èƒ½ä¸ºç©º")

    if len(message) > 10000:
        raise ValueError("æ¶ˆæ¯å¤ªé•¿ï¼ˆæœ€å¤š 10,000 å­—ç¬¦ï¼‰")

    return message.strip()

# ä½¿ç”¨
try:
    clean_message = validate_message(user_input)
    response = await client.chat.completions.create(message=clean_message)
except ValueError as e:
    print(f"éªŒè¯é”™è¯¯ï¼š{e}")
```

## è·å–å¸®åŠ©

- **æ–‡æ¡£**ï¼šhttps://docs.aihub.com
- **API å‚è€ƒ**ï¼šhttps://api.aihub.com/docs
- **ç¤¾åŒºè®ºå›**ï¼šhttps://community.aihub.com
- **æ”¯æŒ**ï¼šsupport@aihub.com
- **çŠ¶æ€é¡µé¢**ï¼šhttps://status.aihub.com

## æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ

æ­å–œï¼æ‚¨å·²æˆåŠŸå°† AI Hub é›†æˆåˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥æ¢ç´¢çš„å†…å®¹ï¼š

1. **é«˜çº§åŠŸèƒ½**ï¼šæ‰¹å¤„ç†ã€å‡½æ•°è°ƒç”¨ã€å›¾åƒç”Ÿæˆ
2. **ä¼˜åŒ–**ï¼šç¼“å­˜ã€è¿æ¥æ± ã€æ‰¹é‡è¯·æ±‚
3. **ç”Ÿäº§éƒ¨ç½²**ï¼šç¯å¢ƒå˜é‡ã€é”™è¯¯ç›‘æ§ã€æ—¥å¿—è®°å½•
4. **æ‰©å±•**ï¼šé€Ÿç‡é™åˆ¶ã€è´Ÿè½½å‡è¡¡ã€ç›‘æ§

ç¼–ç æ„‰å¿«ï¼ğŸš€