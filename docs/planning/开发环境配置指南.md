# AI Hub å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—

> ä»é›¶å¼€å§‹çš„å®Œæ•´å¼€å‘ç¯å¢ƒæ­å»º - macOSç‰ˆæœ¬

**é€‚ç”¨ç³»ç»Ÿ**: macOS (Apple Silicon & Intel)
**é¢„è®¡æ—¶é—´**: 30-60åˆ†é’Ÿ
**éš¾åº¦**: ç®€å•

---

## ğŸ“‹ å‰ç½®è¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- macOS 12.0+ (Montereyæˆ–æ›´æ–°ç‰ˆæœ¬)
- è‡³å°‘8GB RAM
- è‡³å°‘20GBå¯ç”¨ç£ç›˜ç©ºé—´
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

### éœ€è¦çš„è´¦å·
- GitHubè´¦å·ï¼ˆç”¨äºä»£ç ç®¡ç†ï¼‰
- OpenRouterè´¦å·ï¼ˆè·å–APIå¯†é’¥ï¼‰
- Geminiè´¦å·ï¼ˆå¯é€‰ï¼Œå¤‡ç”¨AIæœåŠ¡ï¼‰

---

## ğŸ› ï¸ å®‰è£…å·¥å…·æ¸…å•

### 1. Homebrewï¼ˆmacOSåŒ…ç®¡ç†å™¨ï¼‰

å¦‚æœè¿˜æ²¡å®‰è£…Homebrewï¼š

```bash
# å®‰è£…Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# éªŒè¯å®‰è£…
brew --version
# é¢„æœŸè¾“å‡º: Homebrew 4.x.x
```

**å¦‚æœbrewå‘½ä»¤æœªæ‰¾åˆ°**ï¼ˆApple Silicon Macï¼‰ï¼š
```bash
# æ·»åŠ åˆ°PATH
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
source ~/.zshrc
```

---

### 2. Python 3.11+

#### æ£€æŸ¥Pythonç‰ˆæœ¬

```bash
python3 --version
```

#### å¦‚æœç‰ˆæœ¬<3.11ï¼Œå®‰è£…æ–°ç‰ˆæœ¬ï¼š

```bash
# ä½¿ç”¨Homebrewå®‰è£…Python 3.11
brew install python@3.11

# éªŒè¯å®‰è£…
python3.11 --version

# è®¾ç½®åˆ«åï¼ˆæ·»åŠ åˆ°~/.zshrcï¼‰
echo 'alias python=python3.11' >> ~/.zshrc
echo 'alias pip=pip3.11' >> ~/.zshrc
source ~/.zshrc
```

#### å‡çº§pip

```bash
python -m pip install --upgrade pip
pip --version
# é¢„æœŸè¾“å‡º: pip 24.x.x
```

---

### 3. PostgreSQL 14+

#### å®‰è£…PostgreSQL

```bash
# ä½¿ç”¨Homebrewå®‰è£…
brew install postgresql@14

# å¯åŠ¨PostgreSQLæœåŠ¡
brew services start postgresql@14

# éªŒè¯å®‰è£…
psql --version
# é¢„æœŸè¾“å‡º: psql (PostgreSQL) 14.x
```

#### åˆå§‹åŒ–PostgreSQL

```bash
# è¿æ¥åˆ°PostgreSQL
psql postgres

# å¦‚æœæç¤ºæ‰¾ä¸åˆ°postgresç”¨æˆ·ï¼Œåˆ›å»ºå®ƒ
createdb $(whoami)
psql postgres
```

#### åˆ›å»ºè¶…çº§ç”¨æˆ·ï¼ˆå¦‚æœéœ€è¦ï¼‰

```sql
-- åœ¨psqlä¸­æ‰§è¡Œ
CREATE USER postgres WITH PASSWORD 'postgres' SUPERUSER;

-- é€€å‡º
\q
```

#### æµ‹è¯•è¿æ¥

```bash
psql -U postgres -c "SELECT version();"
```

---

### 4. Redis

#### å®‰è£…Redis

```bash
# ä½¿ç”¨Homebrewå®‰è£…
brew install redis

# å¯åŠ¨RedisæœåŠ¡
brew services start redis

# éªŒè¯å®‰è£…
redis-cli --version
# é¢„æœŸè¾“å‡º: redis-cli 7.x.x
```

#### æµ‹è¯•Redis

```bash
# æµ‹è¯•è¿æ¥
redis-cli ping
# é¢„æœŸè¾“å‡º: PONG

# æµ‹è¯•åŸºæœ¬æ“ä½œ
redis-cli
127.0.0.1:6379> SET test "hello"
127.0.0.1:6379> GET test
# åº”è¯¥è¿”å› "hello"
127.0.0.1:6379> exit
```

---

### 5. Node.js 18+ (ç”¨äºå‰ç«¯å¼€å‘)

#### å®‰è£…Node.js

```bash
# ä½¿ç”¨Homebrewå®‰è£…
brew install node@18

# éªŒè¯å®‰è£…
node --version
# é¢„æœŸè¾“å‡º: v18.x.x

npm --version
# é¢„æœŸè¾“å‡º: 9.x.x
```

#### é…ç½®npmé•œåƒï¼ˆåŠ é€Ÿä¸‹è½½ï¼Œå¯é€‰ï¼‰

```bash
# ä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com
```

---

### 6. Git

#### æ£€æŸ¥Git

```bash
git --version
# macOSé€šå¸¸è‡ªå¸¦Git
```

#### é…ç½®Gitï¼ˆå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼‰

```bash
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"

# éªŒè¯é…ç½®
git config --list | grep user
```

---

### 7. VS Codeï¼ˆæ¨èçš„ä»£ç ç¼–è¾‘å™¨ï¼‰

#### ä¸‹è½½å®‰è£…

1. è®¿é—® https://code.visualstudio.com/
2. ä¸‹è½½macOSç‰ˆæœ¬
3. å®‰è£…åˆ°Applicationsæ–‡ä»¶å¤¹

#### å®‰è£…å‘½ä»¤è¡Œå·¥å…·

åœ¨VS Codeä¸­ï¼š
1. æŒ‰ `Cmd+Shift+P`
2. è¾“å…¥ "Shell Command: Install 'code' command in PATH"
3. é€‰æ‹©è¯¥é€‰é¡¹

éªŒè¯ï¼š
```bash
code --version
```

#### æ¨èçš„VS Codeæ‰©å±•

```bash
# å®‰è£…æ‰©å±•ï¼ˆé€šè¿‡å‘½ä»¤è¡Œï¼‰
code --install-extension ms-python.python
code --install-extension ms-python.vscode-pylance
code --install-extension esbenp.prettier-vscode
code --install-extension dbaeumer.vscode-eslint
code --install-extension bradlc.vscode-tailwindcss
code --install-extension ms-vscode.vscode-typescript-next
```

æˆ–åœ¨VS Codeä¸­æœç´¢å®‰è£…ï¼š
- Python (Microsoft)
- Pylance (Microsoft)
- Prettier - Code formatter
- ESLint
- Tailwind CSS IntelliSense
- Database Client (å¯é€‰ï¼ŒæŸ¥çœ‹æ•°æ®åº“)

---

## ğŸ”§ é¡¹ç›®ç¯å¢ƒè®¾ç½®

### 1. å…‹éš†é¡¹ç›®

```bash
# è¿›å…¥å·¥ä½œç›®å½•
cd ~/code/git

# å¦‚æœé¡¹ç›®å·²å­˜åœ¨
cd ai-hub

# å¦‚æœæ˜¯æ–°é¡¹ç›®
git clone https://github.com/yourusername/ai-hub.git
cd ai-hub
```

---

### 2. åç«¯ç¯å¢ƒé…ç½®

#### åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# éªŒè¯ï¼ˆå‘½ä»¤è¡Œå‰åº”è¯¥æ˜¾ç¤º(venv)ï¼‰
which python
# åº”è¯¥æ˜¾ç¤ºé¡¹ç›®ç›®å½•ä¸‹çš„venvè·¯å¾„
```

#### å®‰è£…Pythonä¾èµ–

åˆ›å»ºæˆ–æ›´æ–° `requirements.txt`ï¼š

```txt
# Webæ¡†æ¶
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.5.0
pydantic-settings==2.1.0

# æ•°æ®åº“
sqlalchemy==2.0.23
asyncpg==0.29.0
psycopg2-binary==2.9.9
alembic==1.13.0

# Redis
redis==5.0.1

# è®¤è¯å’Œå®‰å…¨
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6

# HTTPå®¢æˆ·ç«¯
aiohttp==3.9.1
httpx==0.25.2

# å·¥å…·
python-dotenv==1.0.0
tiktoken==0.5.2

# æµ‹è¯•
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0

# ä»£ç è´¨é‡ï¼ˆå¯é€‰ï¼‰
black==23.12.0
isort==5.13.2
flake8==6.1.0
mypy==1.7.1
```

å®‰è£…ä¾èµ–ï¼š

```bash
pip install -r requirements.txt

# éªŒè¯å®‰è£…
pip list | grep fastapi
# åº”è¯¥çœ‹åˆ°fastapiå’Œç›¸å…³åŒ…
```

#### åˆ›å»º.envæ–‡ä»¶

```bash
# å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘.envæ–‡ä»¶
code .env
```

.envæ–‡ä»¶å†…å®¹ï¼š

```bash
# åº”ç”¨é…ç½®
APP_NAME=AI Hub
ENVIRONMENT=development
DEBUG=true

# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql+asyncpg://ai_hub_user:your_secure_password@localhost:5432/ai_hub

# Redisé…ç½®
REDIS_URL=redis://localhost:6379/0

# JWTé…ç½®
JWT_SECRET_KEY=change-this-to-a-random-secret-key-min-32-chars-abc123xyz789
JWT_ALGORITHM=HS256
JWT_EXPIRE_DAYS=7

# OpenRouter API
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxx

# Gemini API
GEMINI_API_KEY=xxxxxxxxxxxxx

# CORSè®¾ç½®
CORS_ORIGINS=["http://localhost:3000","http://localhost:8001"]
```

**âš ï¸ é‡è¦**ï¼š
1. å°†`your_secure_password`æ”¹ä¸ºå¼ºå¯†ç 
2. ç”Ÿæˆéšæœºçš„JWT_SECRET_KEY
3. æ·»åŠ ä½ çš„APIå¯†é’¥

ç”Ÿæˆéšæœºå¯†é’¥ï¼š
```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

---

### 3. æ•°æ®åº“åˆå§‹åŒ–

#### åˆ›å»ºæ•°æ®åº“

```bash
# è¿æ¥åˆ°PostgreSQL
psql -U postgres

# åœ¨psqlä¸­æ‰§è¡Œ
CREATE DATABASE ai_hub;
CREATE USER ai_hub_user WITH PASSWORD 'your_secure_password';
GRANT ALL PRIVILEGES ON DATABASE ai_hub TO ai_hub_user;

# é€€å‡º
\q
```

#### éªŒè¯æ•°æ®åº“è¿æ¥

```bash
psql -U ai_hub_user -d ai_hub -c "SELECT 'Connected successfully!' as status;"
```

---

### 4. å‰ç«¯ç¯å¢ƒé…ç½®

#### è¿›å…¥å‰ç«¯ç›®å½•

```bash
cd frontend
```

#### åˆ›å»ºNext.jsé¡¹ç›®ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

```bash
npx create-next-app@latest . --typescript --tailwind --app --no-src-dir
```

é€‰é¡¹ï¼š
- TypeScript: Yes
- ESLint: Yes
- Tailwind CSS: Yes
- App Router: Yes
- Import alias: Yes (@/*)

#### å®‰è£…ä¾èµ–

```bash
npm install
```

#### åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

```bash
# åˆ›å»º.env.local
cat > .env.local << 'EOF'
NEXT_PUBLIC_API_URL=http://localhost:8001
EOF
```

#### æµ‹è¯•å‰ç«¯

```bash
npm run dev
# æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000
```

---

## ğŸ“ å¼€å‘å·¥å…·é…ç½®

### VS Codeè®¾ç½®

åˆ›å»º `.vscode/settings.json`ï¼š

```json
{
  "python.defaultInterpreterPath": "${workspaceFolder}/venv/bin/python",
  "python.linting.enabled": true,
  "python.linting.pylintEnabled": false,
  "python.linting.flake8Enabled": true,
  "python.formatting.provider": "black",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.organizeImports": true
  },
  "[python]": {
    "editor.defaultFormatter": "ms-python.black-formatter",
    "editor.tabSize": 4
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.tabSize": 2
  },
  "[typescriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.tabSize": 2
  },
  "files.exclude": {
    "**/__pycache__": true,
    "**/*.pyc": true,
    ".pytest_cache": true,
    "**/.next": true,
    "**/node_modules": true
  }
}
```

åˆ›å»º `.vscode/launch.json`ï¼ˆè°ƒè¯•é…ç½®ï¼‰ï¼š

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: FastAPI",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": [
        "backend.main:app",
        "--reload",
        "--port",
        "8001"
      ],
      "jinja": true,
      "justMyCode": true,
      "env": {
        "PYTHONPATH": "${workspaceFolder}"
      }
    },
    {
      "name": "Python: Current File",
      "type": "python",
      "request": "launch",
      "program": "${file}",
      "console": "integratedTerminal",
      "justMyCode": true
    },
    {
      "name": "Python: Pytest",
      "type": "python",
      "request": "launch",
      "module": "pytest",
      "args": [
        "-v",
        "${workspaceFolder}/backend/tests"
      ],
      "console": "integratedTerminal",
      "justMyCode": true
    }
  ]
}
```

---

## âœ… ç¯å¢ƒéªŒè¯æ¸…å•

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ç¯å¢ƒé…ç½®ï¼š

```bash
# åˆ›å»ºéªŒè¯è„šæœ¬
cat > check_env.sh << 'EOF'
#!/bin/bash

echo "ğŸ” éªŒè¯å¼€å‘ç¯å¢ƒ..."
echo ""

# Python
echo "1. Pythonç‰ˆæœ¬ï¼š"
python --version
echo ""

# PostgreSQL
echo "2. PostgreSQLï¼š"
psql --version
pg_isready -h localhost -p 5432
echo ""

# Redis
echo "3. Redisï¼š"
redis-cli --version
redis-cli ping
echo ""

# Node.js
echo "4. Node.jsï¼š"
node --version
npm --version
echo ""

# Git
echo "5. Gitï¼š"
git --version
echo ""

# è™šæ‹Ÿç¯å¢ƒ
echo "6. Pythonè™šæ‹Ÿç¯å¢ƒï¼š"
if [ -d "venv" ]; then
    echo "âœ“ venvç›®å½•å­˜åœ¨"
    source venv/bin/activate
    pip list | grep fastapi
    deactivate
else
    echo "âœ— venvç›®å½•ä¸å­˜åœ¨"
fi
echo ""

# æ•°æ®åº“è¿æ¥
echo "7. æ•°æ®åº“è¿æ¥ï¼š"
psql -U postgres -c "SELECT 'OK' as status;" 2>/dev/null
echo ""

echo "âœ… ç¯å¢ƒéªŒè¯å®Œæˆï¼"
EOF

chmod +x check_env.sh
./check_env.sh
```

é¢„æœŸè¾“å‡ºï¼š

```
ğŸ” éªŒè¯å¼€å‘ç¯å¢ƒ...

1. Pythonç‰ˆæœ¬ï¼š
Python 3.11.x

2. PostgreSQLï¼š
psql (PostgreSQL) 14.x
/tmp:5432 - accepting connections

3. Redisï¼š
redis-cli 7.x.x
PONG

4. Node.jsï¼š
v18.x.x
9.x.x

5. Gitï¼š
git version 2.x.x

6. Pythonè™šæ‹Ÿç¯å¢ƒï¼š
âœ“ venvç›®å½•å­˜åœ¨
fastapi         0.104.1

7. æ•°æ®åº“è¿æ¥ï¼š
 status
--------
 OK

âœ… ç¯å¢ƒéªŒè¯å®Œæˆï¼
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨å‘½ä»¤

### åç«¯å¯åŠ¨

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å¯åŠ¨FastAPI
python backend/main.py

# æˆ–ä½¿ç”¨uvicorn
uvicorn backend.main:app --reload --port 8001
```

è®¿é—®ï¼š
- API: http://localhost:8001
- æ–‡æ¡£: http://localhost:8001/docs
- å¥åº·æ£€æŸ¥: http://localhost:8001/health

### å‰ç«¯å¯åŠ¨

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—®: http://localhost:3000

### æ•°æ®åº“ç®¡ç†

```bash
# è¿æ¥æ•°æ®åº“
psql -U ai_hub_user -d ai_hub

# æŸ¥çœ‹æ‰€æœ‰è¡¨
\dt

# æŸ¥çœ‹è¡¨ç»“æ„
\d users

# æŸ¥è¯¢æ•°æ®
SELECT * FROM users;

# é€€å‡º
\q
```

### Redisç®¡ç†

```bash
# è¿æ¥Redis
redis-cli

# æŸ¥çœ‹æ‰€æœ‰key
KEYS *

# æŸ¥çœ‹ç‰¹å®škey
GET quota:user:1

# æ¸…ç©ºæ•°æ®åº“ï¼ˆæ…ç”¨ï¼ï¼‰
FLUSHDB

# é€€å‡º
exit
```

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### 1. PostgreSQLè¿æ¥å¤±è´¥

**é”™è¯¯**: `psql: error: connection to server on socket "/tmp/.s.PGSQL.5432" failed`

**è§£å†³**:
```bash
# æ£€æŸ¥PostgreSQLæ˜¯å¦è¿è¡Œ
brew services list | grep postgresql

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨å®ƒ
brew services start postgresql@14

# æ£€æŸ¥ç«¯å£
lsof -i :5432
```

### 2. Redisè¿æ¥å¤±è´¥

**é”™è¯¯**: `Could not connect to Redis at 127.0.0.1:6379`

**è§£å†³**:
```bash
# å¯åŠ¨Redis
brew services start redis

# æ£€æŸ¥çŠ¶æ€
brew services info redis

# æ‰‹åŠ¨å¯åŠ¨ï¼ˆå‰å°è¿è¡Œï¼‰
redis-server
```

### 3. Pythonå¯¼å…¥é”™è¯¯

**é”™è¯¯**: `ModuleNotFoundError: No module named 'backend'`

**è§£å†³**:
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
pwd

# è®¾ç½®PYTHONPATH
export PYTHONPATH="${PYTHONPATH}:$(pwd)"

# æˆ–æ·»åŠ åˆ°.env
echo 'PYTHONPATH=.' >> .env
```

### 4. ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `Address already in use: 8001`

**è§£å†³**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -ti:8001

# æ€æ­»è¿›ç¨‹
kill -9 $(lsof -ti:8001)
```

### 5. npmå®‰è£…æ…¢

**è§£å†³**:
```bash
# ä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# æˆ–ä½¿ç”¨cnpm
npm install -g cnpm --registry=https://registry.npmmirror.com
cnpm install
```

---

## ğŸ“š æœ‰ç”¨çš„å‘½ä»¤é€ŸæŸ¥

### å¼€å‘æµç¨‹

```bash
# æ¯å¤©å¼€å§‹å·¥ä½œ
cd ~/code/git/ai-hub
source venv/bin/activate
brew services start postgresql@14
brew services start redis
python backend/main.py

# æ–°ç»ˆç«¯çª—å£å¯åŠ¨å‰ç«¯
cd ~/code/git/ai-hub/frontend
npm run dev

# è¿è¡Œæµ‹è¯•
pytest backend/tests/ -v

# ä»£ç æ ¼å¼åŒ–
black backend/
isort backend/

# Gitæäº¤
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push
```

### æ•°æ®åº“æ“ä½œ

```bash
# å¤‡ä»½æ•°æ®åº“
pg_dump -U ai_hub_user ai_hub > backup.sql

# æ¢å¤æ•°æ®åº“
psql -U ai_hub_user ai_hub < backup.sql

# é‡ç½®æ•°æ®åº“
dropdb ai_hub
createdb ai_hub
psql -U ai_hub_user -d ai_hub -f migrations/001_initial_schema.sql
```

---

## ğŸ‰ å®Œæˆï¼

ç¯å¢ƒé…ç½®å®Œæˆåï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

âœ… å¯åŠ¨PostgreSQLå’ŒRedis
âœ… æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ
âœ… è¿è¡ŒFastAPIåç«¯
âœ… è¿è¡ŒNext.jså‰ç«¯
âœ… è¿è¡Œå•å…ƒæµ‹è¯•
âœ… è¿æ¥æ•°æ®åº“å’ŒRedis

**ä¸‹ä¸€æ­¥**ï¼šå¼€å§‹ [Day 1æ‰§è¡Œæ¸…å•](./Day1-æ‰§è¡Œæ¸…å•.md)

---

**æç¤º**: å°†è¿™ä¸ªæ–‡æ¡£åŠ å…¥ä¹¦ç­¾ï¼Œé‡åˆ°ç¯å¢ƒé—®é¢˜æ—¶éšæ—¶æŸ¥é˜…ï¼

**éœ€è¦å¸®åŠ©ï¼Ÿ**
- æ£€æŸ¥é”™è¯¯æ—¥å¿—
- æœç´¢é”™è¯¯ä¿¡æ¯
- æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£
- åœ¨å›¢é˜Ÿå†…è¯¢é—®

ç¥å¼€å‘é¡ºåˆ©ï¼ğŸš€
