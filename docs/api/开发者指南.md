# AI Hub Platform å¼€å‘è€…æŒ‡å—

> ä¸ºå¼€å‘è€…æä¾›çš„å®Œæ•´APIä½¿ç”¨æŒ‡å—å’Œæœ€ä½³å®è·µ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è·å–APIå¯†é’¥

1. æ³¨å†Œå¼€å‘è€…è´¦æˆ·ï¼š`POST /api/v1/developer/auth/register`
2. ç™»å½•è·å–è®¿é—®ä»¤ç‰Œï¼š`POST /api/v1/developer/auth/login`
3. åˆ›å»ºAPIå¯†é’¥ï¼š`POST /api/v1/developer/keys/keys`

### 2. è®¤è¯APIè¯·æ±‚

æ‰€æœ‰APIè¯·æ±‚éƒ½éœ€è¦é€šè¿‡APIå¯†é’¥è¿›è¡Œè®¤è¯ï¼š

```bash
# æ–¹æ³•1: Authorization Header (æ¨è)
curl -H "Authorization: Bearer your_api_key_here" \
     https://api.aihub.com/api/v1/chat/completions

# æ–¹æ³•2: X-API-Key Header
curl -H "X-API-Key: your_api_key_here" \
     https://api.aihub.com/api/v1/chat/completions

# æ–¹æ³•3: æŸ¥è¯¢å‚æ•°
curl "https://api.aihub.com/api/v1/chat/completions?api_key=your_api_key_here"
```

## ğŸ“‹ APIç«¯ç‚¹æ¦‚è§ˆ

### æ ¸å¿ƒåŠŸèƒ½

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/chat/completions` | POST | å¯¹è¯å®Œæˆ | API Key |
| `/chat/models` | GET | è·å–æ¨¡å‹åˆ—è¡¨ | API Key |
| `/chat/stream` | POST | æµå¼å¯¹è¯ | API Key |

### å¼€å‘è€…ç®¡ç†

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/developer/auth/register` | POST | æ³¨å†Œå¼€å‘è€… | None |
| `/developer/auth/login` | POST | å¼€å‘è€…ç™»å½• | None |
| `/developer/keys/keys` | POST | åˆ›å»ºAPIå¯†é’¥ | JWT |
| `/developer/keys/keys` | GET | è·å–APIå¯†é’¥åˆ—è¡¨ | JWT |
| `/developer/keys/quota` | GET | æŸ¥çœ‹ä½¿ç”¨é…é¢ | JWT |

### æ”¯ä»˜å’Œè®¢é˜…

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/payments/plans` | GET | è·å–è®¢é˜…å¥—é¤ | JWT |
| `/payments/subscriptions` | POST | åˆ›å»ºè®¢é˜… | JWT |
| `/payments/invoices` | GET | è·å–å‘ç¥¨åˆ—è¡¨ | JWT |

## ğŸ’¬ å¯¹è¯API

### åˆ›å»ºå¯¹è¯å®Œæˆ

```http
POST /api/v1/chat/completions
Authorization: Bearer your_api_key_here
Content-Type: application/json

{
  "model": "gpt-4o-mini",
  "messages": [
    {
      "role": "user",
      "content": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1000
}
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "data": {
    "id": "chat_123456789",
    "object": "chat.completion",
    "created": 1703112345,
    "model": "gpt-4o-mini",
    "choices": [
      {
        "index": 0,
        "message": {
          "role": "assistant",
          "content": "ä½ å¥½ï¼æˆ‘æ˜¯AI Hubå¹³å°çš„AIåŠ©æ‰‹..."
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 15,
      "completion_tokens": 42,
      "total_tokens": 57
    },
    "cost": 0.00000855
  }
}
```

### æµå¼å¯¹è¯

```http
POST /api/v1/chat/stream
Authorization: Bearer your_api_key_here
Content-Type: application/json

{
  "model": "gpt-4o-mini",
  "messages": [
    {
      "role": "user",
      "content": "è¯·å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—"
    }
  ],
  "stream": true
}
```

**æµå¼å“åº”ï¼š**
```
data: {"id": "chat_123", "choices": [{"delta": {"content": "æ˜¥"}}]}
data: {"id": "chat_123", "choices": [{"delta": {"content": "å¤©"}}]}
data: {"id": "chat_123", "choices": [{"delta": {"content": "æ¥"}}]}
data: {"id": "chat_123", "choices": [{"delta": {"content": "äº†"}}]}
data: [DONE]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| model | string | âœ… | è¦ä½¿ç”¨çš„æ¨¡å‹ID |
| messages | array | âœ… | å¯¹è¯æ¶ˆæ¯æ•°ç»„ |
| temperature | number | âŒ | æ§åˆ¶è¾“å‡ºéšæœºæ€§ (0-1) |
| max_tokens | integer | âŒ | æœ€å¤§ç”Ÿæˆtokenæ•° |
| stream | boolean | âŒ | æ˜¯å¦å¯ç”¨æµå¼å“åº” |
| top_p | number | âŒ | æ ¸é‡‡æ ·å‚æ•° |
| frequency_penalty | number | âŒ | é¢‘ç‡æƒ©ç½š (-2 to 2) |
| presence_penalty | number | âŒ | å­˜åœ¨æƒ©ç½š (-2 to 2) |

## ğŸ”§ å¯ç”¨æ¨¡å‹

### åŸºç¡€æ¨¡å‹ (æ‰€æœ‰å¼€å‘è€…å¯ç”¨)

| æ¨¡å‹ID | åç§° | æè¿° | ä»·æ ¼ |
|--------|------|------|------|
| `gpt-4o-mini` | GPT-4o Mini | è½»é‡çº§GPT-4oæ¨¡å‹ | $0.00015/1K tokens |
| `llama-3.1-70b` | Llama 3.1 70B | Metaå¼€æºçš„é«˜æ€§èƒ½æ¨¡å‹ | $0.001/1K tokens |

### é«˜çº§æ¨¡å‹ (ä»˜è´¹ç”¨æˆ·å¯ç”¨)

| æ¨¡å‹ID | åç§° | æè¿° | ä»·æ ¼ |
|--------|------|------|------|
| `gpt-4o` | GPT-4o | OpenAIæœ€æ–°æ——èˆ°æ¨¡å‹ | $0.015/1K tokens |
| `claude-3.5-sonnet` | Claude 3.5 Sonnet | Anthropicé«˜æ€§èƒ½æ¨¡å‹ | $0.003/1K tokens |
| `gemini-1.5-pro` | Gemini 1.5 Pro | Googleå¤šæ¨¡æ€å¤§æ¨¡å‹ | $0.0025/1K tokens |

### å…è´¹æ¨¡å‹

| æ¨¡å‹ID | åç§° | æè¿° | ä»·æ ¼ |
|--------|------|------|------|
| `grok-4-fast:free` | Grok 4 Fast | xAIå¿«é€Ÿå“åº”æ¨¡å‹ | å…è´¹ |
| `deepseek-chat-v3.1:free` | DeepSeek Chat V3.1 | æ·±åº¦æ±‚ç´¢å¯¹è¯æ¨¡å‹ | å…è´¹ |

## ğŸ“Š ä½¿ç”¨ç»Ÿè®¡

### æŸ¥çœ‹é…é¢ä¿¡æ¯

```http
GET /api/v1/developer/keys/quota
Authorization: Bearer your_jwt_token_here
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "data": {
    "monthly_quota": 1000000,
    "monthly_used": 45320,
    "monthly_remaining": 954680,
    "monthly_usage_percent": 4.53,
    "monthly_cost": 6.85,
    "active_api_keys": 3,
    "max_api_keys": 10,
    "reset_date": "2025-02-01"
  }
}
```

### è·å–APIå¯†é’¥ä½¿ç”¨ç»Ÿè®¡

```http
GET /api/v1/developer/keys/keys/{key_id}/usage?days=30
Authorization: Bearer your_jwt_token_here
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "data": {
    "period_days": 30,
    "total_requests": 1250,
    "total_tokens": 45320,
    "total_cost": 6.85,
    "avg_response_time": 845.5,
    "success_rate": 99.2,
    "model_usage": {
      "gpt-4o-mini": {
        "requests": 800,
        "tokens": 28000,
        "cost": 4.20
      },
      "llama-3.1-70b": {
        "requests": 450,
        "tokens": 17320,
        "cost": 2.65
      }
    },
    "daily_usage": {
      "2025-01-15": {
        "requests": 45,
        "tokens": 1620,
        "cost": 0.24
      }
    }
  }
}
```

## ğŸš¨ é”™è¯¯å¤„ç†

### é”™è¯¯å“åº”æ ¼å¼

æ‰€æœ‰APIé”™è¯¯éƒ½éµå¾ªç»Ÿä¸€æ ¼å¼ï¼š

```json
{
  "success": false,
  "error": {
    "type": "invalid_request_error",
    "message": "APIå¯†é’¥æ— æ•ˆ",
    "code": "invalid_api_key",
    "details": {
      "hint": "è¯·æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®ï¼Œæˆ–è”ç³»æ”¯æŒ"
    }
  }
}
```

### å¸¸è§é”™è¯¯ç 

| HTTPçŠ¶æ€ç  | é”™è¯¯ç±»å‹ | æè¿° | è§£å†³æ–¹æ¡ˆ |
|------------|----------|------|----------|
| 401 | `authentication_error` | è®¤è¯å¤±è´¥ | æ£€æŸ¥APIå¯†é’¥ |
| 403 | `permission_error` | æƒé™ä¸è¶³ | æ£€æŸ¥è®¢é˜…çŠ¶æ€ |
| 429 | `rate_limit_error` | é€Ÿç‡é™åˆ¶ | ç­‰å¾…åé‡è¯• |
| 400 | `invalid_request_error` | è¯·æ±‚å‚æ•°é”™è¯¯ | æ£€æŸ¥è¯·æ±‚æ ¼å¼ |
| 500 | `server_error` | æœåŠ¡å™¨é”™è¯¯ | ç¨åé‡è¯•æˆ–è”ç³»æ”¯æŒ |

### ä½¿ç”¨é™åˆ¶

- **é€Ÿç‡é™åˆ¶**: æ ¹æ®è®¢é˜…è®¡åˆ’ä¸åŒï¼Œæ¯åˆ†é’Ÿ10-1000æ¬¡è¯·æ±‚
- **ä»¤ç‰Œé™åˆ¶**: æ ¹æ®è®¢é˜…è®¡åˆ’ä¸åŒï¼Œæ¯æœˆ10K-10M tokens
- **å¹¶å‘é™åˆ¶**: æ¯ä¸ªAPIå¯†é’¥æœ€å¤š10ä¸ªå¹¶å‘è¯·æ±‚

## ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ

### APIå¯†é’¥ç®¡ç†

1. **ç¯å¢ƒå˜é‡å­˜å‚¨**: ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç APIå¯†é’¥
   ```python
   import os
   API_KEY = os.getenv('AIHUB_API_KEY')
   ```

2. **å¯†é’¥è½®æ¢**: å®šæœŸæ›´æ¢APIå¯†é’¥
3. **æœ€å°æƒé™**: ä¸ºä¸åŒåº”ç”¨åˆ›å»ºä¸åŒçš„APIå¯†é’¥
4. **ç›‘æ§ä½¿ç”¨**: å®šæœŸæ£€æŸ¥ä½¿ç”¨ç»Ÿè®¡ï¼Œå‘ç°å¼‚å¸¸åŠæ—¶å¤„ç†

### è¯·æ±‚å®‰å…¨

1. **HTTPS**: æ‰€æœ‰APIè¯·æ±‚å¿…é¡»ä½¿ç”¨HTTPS
2. **è¾“å…¥éªŒè¯**: å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯å’Œæ¸…ç†
3. **é”™è¯¯å¤„ç†**: å¦¥å–„å¤„ç†APIé”™è¯¯ï¼Œä¸è¦æš´éœ²æ•æ„Ÿä¿¡æ¯

## ğŸ’¡ ä»£ç ç¤ºä¾‹

### Pythonç¤ºä¾‹

```python
import requests
import json

class AIHubClient:
    def __init__(self, api_key):
        self.api_key = api_key
        self.base_url = "https://api.aihub.com/api/v1"
        self.headers = {
            "Authorization": f"Bearer {api_key}",
            "Content-Type": "application/json"
        }

    def chat_completion(self, messages, model="gpt-4o-mini", **kwargs):
        """åˆ›å»ºå¯¹è¯å®Œæˆ"""
        data = {
            "model": model,
            "messages": messages,
            **kwargs
        }

        response = requests.post(
            f"{self.base_url}/chat/completions",
            headers=self.headers,
            json=data
        )

        if response.status_code == 200:
            return response.json()
        else:
            raise Exception(f"APIé”™è¯¯: {response.status_code} - {response.text}")

    def chat_stream(self, messages, model="gpt-4o-mini", **kwargs):
        """æµå¼å¯¹è¯"""
        data = {
            "model": model,
            "messages": messages,
            "stream": True,
            **kwargs
        }

        response = requests.post(
            f"{self.base_url}/chat/stream",
            headers=self.headers,
            json=data,
            stream=True
        )

        for line in response.iter_lines():
            if line:
                line = line.decode('utf-8')
                if line.startswith('data: '):
                    data = line[6:]
                    if data == '[DONE]':
                        break
                    yield json.loads(data)

# ä½¿ç”¨ç¤ºä¾‹
client = AIHubClient("your_api_key_here")

# æ™®é€šå¯¹è¯
response = client.chat_completion([
    {"role": "user", "content": "ä½ å¥½ï¼"}
])
print(response["data"]["choices"][0]["message"]["content"])

# æµå¼å¯¹è¯
for chunk in client.chat_stream([
    {"role": "user", "content": "è¯·å†™ä¸€é¦–è¯—"}
]):
    if chunk.get("choices"):
        content = chunk["choices"][0].get("delta", {}).get("content", "")
        print(content, end="", flush=True)
```

### JavaScriptç¤ºä¾‹

```javascript
class AIHubClient {
    constructor(apiKey) {
        this.apiKey = apiKey;
        this.baseURL = 'https://api.aihub.com/api/v1';
        this.headers = {
            'Authorization': `Bearer ${apiKey}`,
            'Content-Type': 'application/json'
        };
    }

    async chatCompletion(messages, model = 'gpt-4o-mini', options = {}) {
        const response = await fetch(`${this.baseURL}/chat/completions`, {
            method: 'POST',
            headers: this.headers,
            body: JSON.stringify({
                model,
                messages,
                ...options
            })
        });

        if (!response.ok) {
            const error = await response.json();
            throw new Error(`APIé”™è¯¯: ${response.status} - ${error.error?.message}`);
        }

        return await response.json();
    }

    async *chatStream(messages, model = 'gpt-4o-mini', options = {}) {
        const response = await fetch(`${this.baseURL}/chat/stream`, {
            method: 'POST',
            headers: this.headers,
            body: JSON.stringify({
                model,
                messages,
                stream: true,
                ...options
            })
        });

        if (!response.ok) {
            const error = await response.json();
            throw new Error(`APIé”™è¯¯: ${response.status} - ${error.error?.message}`);
        }

        const reader = response.body.getReader();
        const decoder = new TextDecoder();

        while (true) {
            const { done, value } = await reader.read();
            if (done) break;

            const chunk = decoder.decode(value);
            const lines = chunk.split('\n');

            for (const line of lines) {
                if (line.startsWith('data: ')) {
                    const data = line.slice(6);
                    if (data === '[DONE]') return;
                    try {
                        yield JSON.parse(data);
                    } catch (e) {
                        // å¿½ç•¥è§£æé”™è¯¯
                    }
                }
            }
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const client = new AIHubClient('your_api_key_here');

// æ™®é€šå¯¹è¯
const response = await client.chatCompletion([
    { role: 'user', content: 'ä½ å¥½ï¼' }
]);
console.log(response.data.choices[0].message.content);

// æµå¼å¯¹è¯
for await (const chunk of client.chatStream([
    { role: 'user', content: 'è¯·å†™ä¸€é¦–è¯—' }
])) {
    if (chunk.choices?.[0]?.delta?.content) {
        process.stdout.write(chunk.choices[0].delta.content);
    }
}
```

## ğŸ†˜ æ”¯æŒå’Œå¸®åŠ©

### è·å–å¸®åŠ©

- **æ–‡æ¡£**: https://docs.aihub.com
- **æ”¯æŒé‚®ç®±**: support@aihub.com
- **çŠ¶æ€é¡µé¢**: https://status.aihub.com
- **å¼€å‘è€…ç¤¾åŒº**: https://community.aihub.com

### å¸¸è§é—®é¢˜

**Q: å¦‚ä½•æé«˜APIè¯·æ±‚é€Ÿç‡é™åˆ¶ï¼Ÿ**
A: å‡çº§åˆ°æ›´é«˜çº§çš„è®¢é˜…è®¡åˆ’æˆ–è”ç³»é”€å”®å›¢é˜Ÿå®šåˆ¶æ–¹æ¡ˆã€‚

**Q: æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ**
A: æ”¯æŒæ‰€æœ‰èƒ½å‘é€HTTPè¯·æ±‚çš„ç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘ä»¬æä¾›Pythonå’ŒJavaScript SDKã€‚

**Q: å¦‚ä½•ç›‘æ§APIä½¿ç”¨æƒ…å†µï¼Ÿ**
A: ä½¿ç”¨å¼€å‘è€…æ§åˆ¶é¢æ¿æˆ–è°ƒç”¨ç»Ÿè®¡APIæŸ¥çœ‹è¯¦ç»†çš„ä½¿ç”¨æ•°æ®ã€‚

**Q: æ•°æ®æ˜¯å¦å®‰å…¨ï¼Ÿ**
A: æ‰€æœ‰æ•°æ®éƒ½é€šè¿‡HTTPSåŠ å¯†ä¼ è¾“ï¼Œæˆ‘ä»¬ä¸ä¼šå­˜å‚¨æ‚¨çš„å¯¹è¯å†…å®¹ã€‚

---

Â© 2025 AI Hub Platform. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚